<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  layout:decorate="~{layouts/adminDefault}">  
	  
	<!-- 사용자정의 contents -->
	<th:block layout:fragment="customContents">
		<h4><strong>공지사항 관리</strong></h4>
		
		<div class="container" style="margin-top: 50px;">
	<div class="x_panel">
	 	<!-- 게시판 타이틀 -->
	 		<h4 style="margin: 20px;">공지사항</h4>
	 			
	 			<div class="x_title">
	 			
		 			<a th:href="@{/admin/noticeForm}"><button type="button" class="btn btn-secondary" style="margin: 50px 140px 0 0; float: right;">등록하기</button></a>
				
			<!-- 공지사항 테이블 -->
			<div class="x_content">
			<div class = "table-responsive">
			<table id="reportList" class="table table-striped table-bordered" style="width: 80%; margin: 20px auto;">
				<thead>
					<tr>
						<th style="width: 7%;">번호</th>
						<th style="width: 44%;">제목</th>
						<th style="width: 7%;">첨부</th>
						<th style="width: 15%;">작성자</th>
						<th style="width: 20%;">작성일</th>
						<th style="width: 7%;">조회</th>
					</tr>
				</thead>
				<tbody>
					<tr th:if="${not #lists.isEmpty(getNoticeList)}" th:each="l : ${getNoticeList}">
						<td th:text="${#numbers.formatInteger(l.get('boardIdx'),0)}"></td>
						<td>
							<a th:href="@{/admin/noticeDetail(boardMenuCode=${l.get('boardMenuCode')}, boardIdx=${l.get('boardIdx')})}" th:text="${l.get('boardTitle')}"></a>
						</td>
						<td>
							<th:block th:if="${l.get('boardAddFile')==1}">
									<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-paperclip" viewBox="0 0 16 16">
									  <path d="M4.5 3a2.5 2.5 0 0 1 5 0v9a1.5 1.5 0 0 1-3 0V5a.5.5 0 0 1 1 0v7a.5.5 0 0 0 1 0V3a1.5 1.5 0 1 0-3 0v9a2.5 2.5 0 0 0 5 0V5a.5.5 0 0 1 1 0v7a3.5 3.5 0 1 1-7 0V3z"/>
									</svg>
							</th:block>
							<th:block th:unless="${l.get('boardAddFile')==1}">
							</th:block>
						</td>
						<td class="product-name">
							<th:block th:if="${l.get('memberId').equals('id001')}">
								<span style="color: #212529">관리자</span>
							</th:block>									
						</td>
						<!-- <td th:text="${l.get('registTime')}"></td> -->
						<td th:text="${#temporals.format(l.get('registTime'),'yyyy-MM-dd HH:mm:ss')}"></td>
						<td th:text="${l.get('boardReadCount')}"></td>
					</tr>
					<tr th:unless="${not #lists.isEmpty(getNoticeList)}">
						<td colspan="6">조회된 내용이 없습니다.</td>
					</tr>
				</tbody>
			</table>
		</div>
		
		<!-- 페이징 -->
		<nav aria-label="Page navigation example">
			<ul class="pagination justify-content-center" style="margin-top: 50px;">
				<li class="page-item">
					<a class="page-link" th:href="@{/admin/noticeList}" tabindex="-1">처음</a>
				</li>
				<th:block th:each="num : ${#numbers.sequence(startPageNum, endPageNum)}">
					<li class="page-item"></li>
					<li><a class="page-link" th:unless="${currentPage eq num}" th:href="@{/admin/noticeList(currentPage=${num})}" th:text="${(num < 5)? '0'+ num: num}"></a></li>
				</th:block>
					<li class="page-item">
					<li class="page-item"><a class="page-link" th:href="@{/admin/noticeList(currentPage=${lastPage})}">마지막</a></li>
			</ul>
		</nav>
	</div>	
		</div>
	</div>
</div>	
</th:block>
</html>