<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layouts/adminDefault}">



<!-- 사용자정의 contents -->
<th:block layout:fragment="customContents">
	<div class="x_title">
		<h2>[[${sessionName}]] 님 세탁소</h2>
		<h2>매장 가격표</h2>

		<div class="clearfix"></div>
		
	</div>
	 <a th:href="@{/admin/goodsPrice/addGoodsPrice}"><input type="button" class="btn btn-info" value="매장 가격표 추가" ></a><br />
	<br>		

	<table id="reportList"
		class="table table-striped jambo_table bulk_action"
		style="width: 100%;">
		<thead>
			<tr>
				<th>세탁소 이름</th>
				<th>기술 이름</th>
				<th>상품 이름</th>
				<th>상품 가격</th>
				<th>수정</th>
				<th>삭제</th>
			</tr>
		</thead>
		<tbody>
			<tr th:if="${not #lists.isEmpty(eachGoodsPriceList)}"
				th:each="l : ${eachGoodsPriceList}">
				<td th:text="${l.get('laundryName')}"></td>
				<td th:text="${l.get('skillCate')}"></td>
				<td th:text="${l.get('gName')}"></td>
				<td
					th:text="${#numbers.arrayFormatInteger(l.get('gPrice'),3,'COMMA') + '원'}"></td>
				<td><a
					th:href="@{/admin/goodsPrice/changeGoodsPrice(skillCate=${l.skillCate},ilbanGPriceCode=${l.ilbanGPriceCode} 
											,gName=${l.gName},gPrice=${l.gPrice},gPriceUseState=${l.gPriceUseState})}"><button
							type="button" class="btn btn-success btn-sm" data-toggle="modal"
							data-target="#deleteModal">수정</button> </a></td>
				<td><a
					th:href="@{/admin/goodsPrice/removeGoodsPrice(ilbanGPriceCode=${l.ilbanGPriceCode},skillCate=${l.skillCate},laundryName=${l.laundryName}, 
											gName=${l.gName},gPrice=${l.gPrice})}"><button
							type="button"
							class="btn btn-danger btn-sm" data-toggle="modal"
							data-target="#deleteModal">삭제</button> </a></td>
			<tr th:unless="${not #lists.isEmpty(eachGoodsPriceList)}">
				<td colspan="8">등록된 상품이 없습니다.</td>
			</tr>
		</tbody>
	</table>
	<nav id="GPNum">
		<ul class="pagination justify-content-center">
			<li class="page-item"><a class="page-link"
				th:href="@{/admin/goodsPrice/goodsPrice}" tabindex="-1">처음</a></li>
			<th:block
				th:each="num : ${#numbers.sequence(startPageNum, endPageNum)}">
				<li class="page-item"></li>
				<li><a class="page-link" th:unless="${currentPage eq num}"
					th:href="@{/admin/goodsPrice/goodsPrice(currentPage=${num})}"
					th:text="${(num < 5)? '0'+ num: num}"></a></li>
			</th:block>
			<li class="page-item">
			<li class="page-item"><a class="page-link"
				th:href="@{/admin/goodsPrice/goodsPrice(currentPage=${lastPage})}">마지막</a></li>
		</ul>
	</nav>
</th:block>

</html>