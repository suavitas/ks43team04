<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  layout:decorate="~{layouts/adminDefault}">
	  
	<th:block layout:fragment="customCss">
		<link rel="stylesheet" th:href="@{https://cdn.datatables.net/1.10.20/css/jquery.dataTables.min.css}">
	</th:block>	  
	
	<th:block layout:fragment="customScript">
		<script type="text/javascript" th:src="@{/js/jquery-3.6.0.min.js}"></script>
	</th:block>	
		
	<th:block layout:fragment="customJsScript"> 
		<script type="text/javascript">
				
		$(document).ready(function () {
		    $('.table').DataTable({
		    	stateSave: true,
		    	destroy : true,
		    	ordering: false,
		    	order: [ [ 1, "asc" ] ],
		    	autowidth: false
		    });
		});
			
		</script>
	</th:block>		  
	  
	<!-- 사용자정의 contents -->
	<th:block layout:fragment="customContents">
	
	<style>
	.dataTables_wrapper .dataTables_paginate .paginate_button { 
	padding:0 !important; 
	margin:0 !important;
	}
	.dataTables_wrapper	{		
   		height: 600px!important;		
	}	
	#deliveryList td {
		vertical-align: middle;
	}
	#deliveryList {
		text-align: center;
	}
	.x_content {
		padding-top:20px;
	}
	.putitle {
		margin-top: 20px; 
		padding-left: 10px;
	}
	</style>
	
		<!-- 탭 이름 -->
		<h4><strong>배송 현황</strong></h4>
			<!-- 본문 내용 시작 -->
			<div class="container" style="margin-top: 50px;">
				<div class="col-md-12 col-sm-12">
					<div class="x_panel">
						<!-- 게시판 타이틀 -->
			 			<th:block th:each="l : ${getMemberLaundryList}">
							<h2 th:text="${l.laundryName}" style="font-size: 30px;"></h2>
						</th:block>
							<h2 class="putitle"><strong>[[${sessionName}]]</strong><span> 님의 배송 현황</span></h2>
								<div class="x_title">					
									<div class="x_content">
										<div class="row">
											<div class="col-sm-12">
												<div class="card-box table-responsive">	
													<!-- 테이블 -->
														<table id="deliveryList" class="table table-striped table-bordered" style="width: 100%;">
															<thead>
																<tr>			
																	<th>고객 이름</th>
																	<th>고객 주소</th>
																	<th>요청 사항</th>
																	<th>영수증</th>
																	<th>배송 희망일</th>
																	<th>배송 완료일</th>			
																	<th>배송 담당</th>			
																</tr>
															</thead>
															<tbody>
																<tr th:if="${not #lists.isEmpty(deliveryListByStore)}" th:each="l : ${deliveryListByStore}">
																	<th:block th:each="s, status : ${l.memberList}">
																		<td th:text="${s.memberName}"></td>
																	</th:block>
																		<td th:text="${l.deliveryAddr}"></td> 
																	<th:block th:each="r, status : ${l.requestList}">
																		<td th:text="${r.requestCate}"></td>
																	</th:block>
																	<th:block th:each="b, status : ${l.bill}">
																		<td><a href="#" th:text="${b.billCode}"></a></td>
																	</th:block>
																		<td th:text="${l.deliveryPlanDate}"></td>
																		<td th:text="${l.deliveryFinishTime}"></td>
																	<th:block th:each="c, status : ${l.contractRiderList}">
																		<td th:text="${c.headRiderConpanyName}"></td>
																	</th:block>																
																</tr>
																<tr th:unless="${not #lists.isEmpty(deliveryListByStore)}">
																	<td colspan="7">조회된 내용이 없습니다.</td>
																</tr>
															</tbody>
														</table>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</th:block>
													
													
													
</html>