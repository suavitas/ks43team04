<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  layout:decorate="~{layouts/adminDefault}">
	  
	<!-- 사용자정의 contents -->
<th:block layout:fragment="customContents">
	<div class="admin-board-list" style="margin-top: 100px;">
 		<h4 style="margin-bottom: 50px;">전체 회원 포인트 사용내역</h4>
			<!-- 메뉴 -->
			<div class="x_content">
				<ul class="nav nav-tabs bar_tabs" id="myTab" role="tablist">
					<li class="nav-item">
						<a class="nav-link active" id="home-tab" data-toggle="tab" href="#total" role="tab" aria-controls="home" aria-selected="true">전체 집계</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" id="profile-tab" data-toggle="tab" href="#wait" role="tab" aria-controls="profile" aria-selected="false">포인트사용 결제 횟수</a>
					</li>
					<!-- <li class="nav-item">
						<a class="nav-link" id="contact-tab" data-toggle="tab" href="#ready" role="tab" aria-controls="contact" aria-selected="false">포인트 누적 사용금액</a>
					</li> -->
				</ul>
				<!-- 전체집계 시작 -->
				<div class="tab-content" id="myTabContent">
					<div class="tab-pane fade active show" id="total" role="tabpanel" aria-labelledby="home-tab">
						<table id="reportList1" class="table table-striped table-bordered" style="width: 50%; text-align: center;">
							<thead>
								<tr>
									<th style="width: 5%;">아이디</th>
									<th style="width: 10%;">포인트 사용금액</th>	
									<th style="width: 10%;">포인트 사용 날짜</th>					
								</tr>
							</thead>
							<tbody>
								<th:block th:if="${not #lists.isEmpty(getPointUseList)}" th:each="l : ${getPointUseList}">
									<tr>
										<td th:text="${l.orderNumGroupcode}"></td> 
										<td th:text="${#numbers.formatInteger(l.payUsePoint,3,'COMMA')+'원'}"></td>
										<td th:text="${l.payOkDate}"></td>				
									</tr>
									<tr th:unless="${not #lists.isEmpty(getPointUseList)}">
										<td colspan="3">조회된 내용이 없습니다.</td>
									</tr>
								</th:block>
							</tbody>
						</table>
					</div>
					<!-- 전체집계 끝 -->
					<!-- 포인트사용 결제횟수 시작 -->
					<div class="tab-pane fade" id="wait" role="tabpanel" aria-labelledby="profile-tab">
						<table id="reportList" class="table table-striped table-bordered" style="width: 50%; text-align: center;">
							<thead>
								<tr>
									<th style="width: 5%;">아이디</th>
									<th style="width: 10%;">포인트 사용후 결제횟수</th>	
									<th style="width: 10%;">포인트 누적 사용액</th>
									<th style="width: 10%;">최근 결제 날짜</th>					
								</tr>
							</thead>
							<tbody>
								<th:block th:if="${not #lists.isEmpty(getPointUseCount)}" th:each="l : ${getPointUseCount}">
									<tr>
										<td th:text="${l.userCode}"></td>
										<td th:text="${l.orderNumGroupcode+'건'}"></td> 
										<td th:text="${#numbers.formatInteger(l.payUsePoint,3,'COMMA')+'원'}"></td>
										<td th:text="${l.payOkDate}"></td>			
									</tr>
									<tr th:unless="${not #lists.isEmpty(getPointUseCount)}">
										<td colspan="4">조회된 내용이 없습니다.</td>
									</tr>
								</th:block>
							</tbody>
						</table>
					</div>
					<!-- 포인트사용 결제횟수 끝 -->
					<!-- 포인트 누적사용 금액 시작 -->
					<!-- <div class="tab-pane fade" id="ready" role="tabpanel" aria-labelledby="contact-tab">
						<table id="reportList" class="table table-striped table-bordered" style="width: 100%;">
							<thead>
								<tr>
									<th style="width: 5%;">번호</th>
									<th style="width: 10%;">진행상태</th>	
									<th style="width: 15%;">세탁소명</th>	
									<th style="width: 35%;">제목</th>
									<th style="width: 5%;">첨부</th>
									<th style="width: 10%;">작성자</th>
									<th style="width: 20%;">작성일</th>					
								</tr>
							</thead>
							<tbody>
								<th:block th:if="${not #lists.isEmpty(startAsList)}" th:each="l : ${startAsList}">
									<tr th:if="${not #lists.isEmpty(l.LaundryList)}" th:each="sl, status :${l.LaundryList}">
										<td th:text="${l.asNumber}"></td> status.count
										<td th:text="${l.asState}"></td>
										<td th:text="${sl.laundryName}"></td>
										<td><strong><a th:href="@{/admin/asDetail(asCode=${l.asCode})}" th:text="${l.asTitle}"></a></strong></td>
										<td th:text="${l.asAddFile}"></td>
										<td th:text="${sl.memberId}"></td>
										<td th:text="${l.registTime}"></td>					
									</tr>
									<tr th:unless="${not #lists.isEmpty(startAsList)}">
										<td colspan="7">조회된 내용이 없습니다.</td>
									</tr>
								</th:block>
							</tbody>
						</table>
					</div> -->
					<!-- 포인트 누적 사용금액 끝 -->
				</div>
			</div>
		</div>
</th:block>

</html>