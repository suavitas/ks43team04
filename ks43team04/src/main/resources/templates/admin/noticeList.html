<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  layout:decorate="~{layouts/adminDefault}">  

	<th:block layout:fragment="customCss">
	<link rel="stylesheet" th:href="@{https://cdn.datatables.net/1.10.20/css/jquery.dataTables.min.css}">
	</th:block>	  


<th:block layout:fragment="customScript">
	<script type="text/javascript" th:src="@{/js/jquery-3.6.0.min.js}"></script>
</th:block>	
	
<th:block layout:fragment="customJsScript"> 
	<script type="text/javascript">
	/*$(function(){
		$('#datatable-fixed-header').DataTable({
			destroy : true
		});
	});*/
	
	$(document).ready(function () {
	    $('#datatable-fixed-header').DataTable({
	    	 stateSave: true,
	    	destroy : true,
	    	ordering: false,
	    	order: [ [ 1, "asc" ] ]
	    });
	});
	</script>
</th:block>	

	<!-- 사용자정의 contents -->
	<th:block layout:fragment="customContents">
	
	<style>
		.dataTables_wrapper .dataTables_paginate .paginate_button{ padding:0 !important; margin:0 !important;}
		body{/*font-size:0;*/ padding:0; margin:0; letter-spacing: 0; word-spacing: 0;}
		.pagination{width:253px; display: block;}
		#datatable-fixed-header 
		{    
		  overflow-y:hidden; 
		}
		
	</style>
	
		<h4><strong>공지사항 관리</strong></h4>
		
<div class="container" style="margin-top: 50px;">
<div class="col-md-12 col-sm-12 ">

	<div class="x_panel">
	 	<!-- 게시판 타이틀 -->
	 		<h4 style="margin: 20px;">공지사항</h4>
	 			
	 			<div class="x_title">
		 			<a th:href="@{/admin/noticeForm}"><button type="button" class="btn btn-secondary" style="float: right; margin-top: 20px; margin-right: 20px;">등록하기</button></a>
				
	 			
			<!-- 공지사항 테이블 -->
			<div class="x_content">
				<div class="row">
                          <div class="col-sm-12">
                            <div class="card-box table-responsive">
			
			<table id="datatable-fixed-header" class="table table-striped table-bordered" style="width: 100%;">
				<thead>
					<tr style="text-align: center;">
						<th style="width: 7%;">번호</th>
						<th style="width: 44%;">제목</th>
						<th style="width: 7%;">첨부</th>
						<th style="width: 15%;">작성자</th>
						<th style="width: 20%;">작성일</th>
						<th style="width: 7%;">조회</th>
					</tr>
				</thead>
				<tbody>
					<tr th:if="${not #lists.isEmpty(getNoticeList)}" th:each="l , status : ${getNoticeList}">
					 <td th:text="${#numbers.formatInteger((rowCount - status.index) - ((currentPage - 1)*7),0)}" style="text-align: center;"></td>
						<!-- <td th:text="${l.boardIdx}" style="text-align: center;"></td> -->
						<td>
							<a th:href="@{/admin/noticeDetail(boardMenuCode=${l.boardMenuCode}, boardIdx=${l.boardIdx})}" th:text="${l.boardTitle}"></a>
						</td>
						<td  style="text-align: center;">
							<th:block th:if="${l.boardAddFile=='1'}">
									<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-paperclip" viewBox="0 0 16 16">
									  <path d="M4.5 3a2.5 2.5 0 0 1 5 0v9a1.5 1.5 0 0 1-3 0V5a.5.5 0 0 1 1 0v7a.5.5 0 0 0 1 0V3a1.5 1.5 0 1 0-3 0v9a2.5 2.5 0 0 0 5 0V5a.5.5 0 0 1 1 0v7a3.5 3.5 0 1 1-7 0V3z"/>
									</svg>
							</th:block>
							<th:block th:unless="${l.boardAddFile=='1'}">
							</th:block>
						</td>
						<td  style="text-align: center;">
							<th:block th:if="${l.memberId=='id001'}">
								<span style="text-align: center; color: #212529;">관리자</span>
							</th:block>
						</td>
						<!-- <td th:text="${l.get('registTime')}"></td> -->
						<td th:text="${l.registTime}"  style="text-align: center;"></td>
						<td th:text="${l.boardReadCount}" style="text-align: center;"></td>
					</tr>
					<tr th:unless="${not #lists.isEmpty(getNoticeList)}">
						<td colspan="6">조회된 내용이 없습니다.</td>
					</tr>
				</tbody>
			</table>
		</div>
		
		<!-- 페이징 
		<nav aria-label="Page navigation example">
			<ul class="pagination justify-content-center" style="margin-top: 50px;">
				<li class="page-item">
					<a class="page-link" th:href="@{/admin/noticeList}" tabindex="-1">처음</a>
				</li>
				<th:block th:each="num : ${#numbers.sequence(startPageNum, endPageNum)}">
					<li class="page-item"></li>
					<li><label class="page-link" th:if="${currentPage eq num}" th:text="${(num < 5)? '0'+ num: num}"></label></li>
					<li><a class="page-link" th:unless="${currentPage eq num}" th:href="@{/admin/noticeList(currentPage=${num})}" th:text="${(num < 5)? '0'+ num: num}"></a></li>
				</th:block>
					<li class="page-item"></li>
					<li class="page-item"><a class="page-link" th:href="@{/admin/noticeList(currentPage=${lastPage})}">마지막</a></li>
			</ul>
		</nav>-->
	</div>	
		</div>
		</div>
		</div>
	</div>
	</div>
</div>	
</th:block>
</html>