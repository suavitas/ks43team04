<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layouts/userDefault}">
<!-- 사용자정의 contents -->
<th:block layout:fragment="customContents">
	<style>
.billing-address-form input {
	font-size: 12px;
	letter-spacing: 0.03em;
	height: 100%;
	line-height: 30px;
	padding: 0 10px;
	border: 0;
	border-radius: 5px;
	background: #f5f5f5;
	vertical-align: middle;
	outline: 0;
	margin-top: -20px;
	font-weight: 700px;
}

.billing-address-form select {
	line-height: 30px;
	width: auto;
	height: 32px;
	background: none;
	font-size: 12px;
	padding: 0;
	border: 0;
	border-radius: 5px;
	margin: 0;
	background: #f5f5f5;
	font-weight: 700px;
}

.billing-address-form h5 {
	margin-bottom: 12px;
}

#yeyekFirstBtn {
	border: none;
	background-color: #fff;
	display: inline-block;
	color: #333;
	font-size: 14px;
	padding: 8px 14px;
	height: 41.19px;
}

.boxbox .append-btn {
	width: 15%;
	float: right;
	display: inline;
	margin-top: 54px;
	margin-left: 10px;
	padding: 4px;
	margin-right: 0;
	background-color: #F28123;
	border: 0;
	color: #fff;
}
.boxbox .append-btn:hover{
	background-color: #f29c23;
}
.boxbox .remove-btn {
	width: 10%;
	display: inline;
	padding: 2px;
	background-color: #f5f5f5;
	border: 0;
	color: #333;
	margin-left: 3%;
}
.strBox p{
	display: inline;
	vertical-align: middle;
}
</style>

	<div id="container" style="width: 100%; height: 1200px;">
		<div class="left-tit-area">
			<div class="tit-area"
				style="margin: 0; border-right: 1px solid #f2f2f2; background-color: #fff; padding: 30px 0px; height: 1000px;">
				<h4>매장찾기</h4>
				<p class="sub-tx" style="margin: 0;">
					원하시는 <span style="font-weight: bolder;">지역</span>을 검색해 주세요.
				</p>

				<div class="search-map">
					<form onsubmit="searchPlaces(); return false;">
						<div id="laundryValueDiv">

							<input type="radio" id="ilbanMapCheck" name="laundryMapRadio"
								value="기능세탁" checked><label for="ilbanMapCheck">기능</label>
							<input type="radio" id="muinMapCheck" name="laundryMapRadio"
								value="무인세탁"><label for="muinMapCheck">무인</label>
						</div>
						<input type="text" value="전주" id="keyword" name="hiddenKeyword"
							style="width: 132px;" size="15" placeholder="예) 전주"> <input
							type="hidden" value="크린토피아 " id="keywordaa" name="hiddenKeyword"
							size="15"> <input type="hidden" value=" 효자동"
							id="keywordbb" name="hiddenKeyword" size="15"> <input
							type="hidden" value=" 드라이크리닝" id="keywordcc" name="hiddenKeyword"
							size="15">
						<button type="submit" id="search-map-btn">
							<p style="color: #fff">.</p>
						</button>
					</form>

				</div>
				<div class="tab-content">
					<p style="display: inline; margin-right: 10xp;">지도만 보기</p>
					<input type="checkbox" id="mapCheck" onclick="mapChecked()"
						style="margin-top: 30px;">

					<div class="tab-pane active" id="home" role="tabpanel"
						aria-labelledby="home-tab">
						<div class="map_wrap" style="margin-left: 0; margin-top: -30px;">
							<div id="map"
								style="width: inherit; height: 700px; overflow: hidden;">
								<div class="hAddr">
									<span class="title">지도중심기준 행정동 주소정보</span> <span
										id="centerAddr"></span>
								</div>
							</div>

							<div id="menu_wrap" class="bg_white" style="margin: 0;">
								<div class="option">
									<div></div>
								</div>
								<hr>
								<ul id="placesList"></ul>
								<div id="pagination"></div>
							</div>
						</div>
						<script type="text/javascript">
							function mapChecked() {

								var menuWrap = document
										.getElementById('menu_wrap');
								var mapCheck = document
										.getElementById('mapCheck');

								if (mapCheck.checked == true) {
									menuWrap.style.display = "none";
								} else {
									menuWrap.style.display = "block";
								}
							}
						</script>
					</div>
					<div class="tab-pane" id="profile" role="tabpanel"
						aria-labelledby="profile-tab"></div>
				</div>
			</div>
		</div>
		<div class="ldry-info-right-area">
			<div class="ldry-info-right-wrap">
				<div class="ldry-info-right-head">
					<th:block th:if="${not #lists.isEmpty(laundryInfo)}">
						<h4 th:text="${laundryInfo.laundryName}"></h4>
					</th:block>
					<div class="review-star-img">
						<img alt="star"
							src="https://jpassets.jobplanet.co.kr/production/uploads/material/media/99/ic_star_green500_sm.svg">
						<span>4.0</span> <span class="gray-span">일반세탁소</span>

					</div>

				</div>
				<nav>
					<div class="nav nav-tabs" id="nav-tab" role="tablist"
						style="margin-top: 25px;">
						<a class="nav-link active" id="nav-home-tab" data-toggle="tab"
							href="#nav-home" role="tab" aria-controls="nav-home"
							aria-selected="true" style="color: #333;">기본정보</a> <a
							class="nav-link" id="nav-profile-tab" data-toggle="tab"
							href="#nav-profile" role="tab" aria-controls="nav-profile"
							aria-selected="false" style="color: #333;">기능별 가격</a> <a
							class="nav-link" id="nav-contact-tab" data-toggle="tab"
							href="#nav-contact" role="tab" aria-controls="nav-contact"
							aria-selected="false" style="color: #333;">리뷰</a> <a
							class="nav-link" id="nav-yeyak-tab" data-toggle="tab"
							href="#nav-contact" role="tab" aria-controls="nav-contact"
							aria-selected="false" style="padding: 0;">
							<button type="button" class="btn btn-primary btn-lg yeyak-btn"
								id="yeyekFirstBtn" data-toggle="modal" data-target="#ilbanYeyak"
								data-backdrop="static" data-keyboard="false">예약하기</button>
						</a>
					</div>
				</nav>

				<div class="tab-content" id="nav-tabContent">
					<!-- 기본정보 탭 -->
					<div class="tab-pane fade show active" id="nav-home"
						role="tabpanel" aria-labelledby="nav-home-tab"
						style="border-bottom: 1px solid #f2f2f2; border-right: 1px solid #f2f2f2;">
						<th:block th:if="${not #lists.isEmpty(laundryInfo)}">
							<table id="LaundryInfoSebu"
								class="table table-striped table-bordered">

								<tbody>

									<tr>
										<td>세탁소 명</td>
										<td th:text="${laundryInfo.laundryName}"></td>
									</tr>

									<tr>
										<td>영업상태</td>
										<td th:text="${laundryInfo.laundryState}"></td>
									</tr>

									<tr>
										<td>주소</td>
										<td th:text="${laundryInfo.laundryAddr}"></td>
									</tr>

									<tr>
										<td>전화번호</td>
										<td th:text="${laundryInfo.laundryTel}"></td>
									</tr>

									<tr>
										<td>영업시간</td>
										<td>09 : 00 ~ 18 : 00</td>
									</tr>
									<tr>
										<td>세탁자격증 보유 여부</td>
										<td th:text="${laundryInfo.skillLicence}"></td>
									</tr>

									<tr th:unless="${not #lists.isEmpty(laundryInfo)}">
										<td colspan="7">조회된 내용이 없습니다.</td>
									</tr>
								</tbody>
							</table>

						</th:block>
					</div>

					<!-- 기능별 가격 탭 -->
					<div class="tab-pane fade" id="nav-profile" role="tabpanel"
						aria-labelledby="nav-profile-tab"
						style="border-bottom: 1px solid #f2f2f2; border-right: 1px solid #f2f2f2;">
						<th:block th:if="${not #lists.isEmpty(laundryInfo)}">
							<table class="table table-striped table-bordered"
								style="margin-top: 75px;">
								<thead>
									<tr>
										<th>상품</th>
										<th>가격</th>
									</tr>
								</thead>
								<tbody>
									<tr th:if="${not #lists.isEmpty(laundryInfo.ilbanGpriceList)}"
										th:each="l : ${laundryInfo.ilbanGpriceList}">
										<td th:text="${l.goodsName}"></td>
										<td th:text="${l.goodsPrice}"></td>
									</tr>

									<tr
										th:unless="${not #lists.isEmpty(laundryInfo.ilbanGpriceList)}">
										<td colspan="2">조회된 내용이 없습니다.</td>
									</tr>
								</tbody>
							</table>
						</th:block>
					</div>

					<!-- 리뷰 탭 -->
					<div class="tab-pane fade" id="nav-contact" role="tabpanel"
						aria-labelledby="nav-contact-tab"
						style="border-bottom: 1px solid #f2f2f2; border-right: 1px solid #f2f2f2;">
						<p
							style="text-align: left; text-indent: -9999px; display: inline-block; width: 150px; height: 250px; background: transparent url(http://99juice.co.kr/_sp/image/no-result-found.gif) no-repeat center center;"></p>
					</div>
					<!-- 예약버튼 공백 탭 -->
					<div class="tab-pane fade" id="nav-yeyak" role="tabpanel"
						aria-labelledby="nav-profile-tab"
						style="border-bottom: 1px solid #f2f2f2; border-right: 1px solid #f2f2f2;">
					</div>
				</div>
			</div>
		</div>
	</div>
	<th:block th:if="${not #lists.isEmpty(laundryInfo)}"
		th:each="l : ${laundryInfo}">
		<!-- Modal -->
		<div class="modal fade" id="ilbanYeyak" tabindex="-1" role="dialog"
			th:aria-labelledby="${'myModal' + 'Label'}">
			<div class="modal-dialog" role="document">
				<div class="modal-content">
					<form th:action="@{/user/payment}" method="post">
						<div class="modal-header">
							<button type="button" class="close" data-dismiss="modal"
								aria-label="Close">
								<span aria-hidden="true">&times;</span>
							</button>
							<h4 class="modal-title" th:id="${'myModal'+'Label'}"
								th:text="${l.laundryName}">예약사항</h4>
						</div>
						<div class="modal-body">
							<!-- 예약사항 폼 시작-->
							<div class="checkout-accordion-wrap">
								<div class="accordion" id="accordionExample">
									<div class="card single-accordion">
										<div class="card-header" id="headingOne">
											<h5 class="mb-0">
												<button class="btn btn-link" type="button"
													data-toggle="collapse" data-target="#collapseOne"
													aria-expanded="true" aria-controls="collapseOne">수거
													및 배송신청</button>
											</h5>
										</div>
										<div id="collapseOne" class="collapse show"
											aria-labelledby="headingOne" data-parent="#accordionExample">
											<div class="card-body">
												<div class="billing-address-form">
													<input type="hidden" name="laundryName"
														th:value="${l.laundryName}">
													<h5 style="margin-bottom: 20px;">수거일 예약 신청</h5>
													<input type="date" class="currentDate"> <input
														type="time" class="currentDateTime">
													<p style="margin-top: 5px; font-size: 11px;">※ 수거는 예약날짜
														및 시간 으로 부터 최대 24시간의 시간이 소요 됩니다.</p>

													<div th:class="${'append-info'}">
														<div class="boxbox" style="margin-bottom: 10px;">
															<div class="select-box" id="leftSelect"
																style="float: left; display: inline-block; width: 30%; margin-right: 3%;">
																<h5 style="margin-top: 20px;">세탁물 선택</h5>
																<select class="igp" name="goodsName"
																	style="width: 140px;">
																	<th:block th:each="ls , st : ${ilbanGoodsPriceList}">
																		<th:block th:each="lss : ${ls.ilbanGoodsPrice}">
																			<option th:if="${ls.laundryName} eq ${l.laundryName}" 
																				th:text="|${lss.goodsName} : ${lss.goodsPrice}원|"
																				th:value="${lss.goodsName}" th:data-goodsPrice="${lss.goodsPrice}"></option>
																		</th:block>
																	</th:block>
																</select>
															</div>
															<div class="select-box" id="rightSelect"
																style="width: 42%; display: inline-block;">
																<h5 style="margin-top: 20px; margin-left: 14px;">세탁기능 선택</h5>
																<select class="isp" name="goodsOption" style="margin-left: 15px;">
																	<th:block th:each="ls : ${ilbanSkillList}">
																		<option th:text="|${ls.skillCate} : ${ls.skillPrice}원|"
																			th:value="${ls.skillCate}" th:data-skillPrice="${ls.skillPrice}"></option>
																	</th:block>
																</select> <br />
															</div>
															<button type="button" class="btn btn-info append-btn">추가</button>
															<div class="strBox" style="margin-top: 16px;"></div>
														</div>
													</div>
													<br />
													<!--  
													<th:block th:each="m : ${member}">
													<div>
														<span th:text="|이름 : ${m.memberName} 님|"></span>
													</div>
														<span th:text="|주소 : ${m.memberPostNum}|"></span>
														<span th:text="|${m.memberAddr}|"></span>
														<span th:text="|${m.memberDetailAddr}|"></span>
													<div>
														<span th:text="|번호 : ${m.memberPhone}|"></span>
													</div>
													</th:block>
													-->
													<p class="sumaa">총계 : </p>
												</div>
											</div>
										</div>
									</div>
									<div class="card single-accordion">
										<div class="card-header" id="headingTwo">
											<h5 class="mb-0">
												<button class="btn btn-link collapsed" type="button"
													data-toggle="collapse" data-target="#collapseTwo"
													aria-expanded="false" aria-controls="collapseTwo">가격표</button>
											</h5>
										</div>
										<input type="hidden" name="bill">
										<div id="collapseTwo" class="collapse"
											aria-labelledby="headingTwo" data-parent="#accordionExample">
											<div class="card-body">
												<div class="shipping-address-form">
													<th:block>
														<div class="cart-table-wrap">
															<table class="cart-table tbServiceList">
																<thead class="cart-table-head">
																	<tr class="table-head-row">
																		<th class="product-quantity">상품명</th>
																		<th class="product-total">가격</th>
																	</tr>
																</thead>
																<tbody>
																	<th:block th:each="ls , st : ${ilbanGoodsPriceList}">
																		<tr class="table-body-row"
																			th:each="lss : ${ls.ilbanGoodsPrice}">
																			<td class="product-quantity"
																				th:if="${ls.laundryName} eq ${l.laundryName}"
																				th:text="${lss.goodsName}"></td>
																			<td class="product-total"
																				th:if="${ls.laundryName} eq ${l.laundryName}"
																				th:text="${lss.goodsPrice}"></td>
																		</tr>
																	</th:block>
																</tbody>
															</table>
														</div>
													</th:block>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
							<!-- 예약사항 폼 끝-->
						</div>
						<div class="modal-footer">
							<button type="button" class="btn btn-default"
								data-dismiss="modal">취소</button>
							<button type="submit" class="btn btn-primary">결제하기</button>
						</div>
					</form>
				</div>
			</div>
		</div>
		<!-- 모달 예약하기 버튼 끝 -->
	</th:block>
	<!--매장정보 모달 -->
	<div class="modal fade" id="exampleModal" tabindex="-1"
		aria-labelledby="exampleModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<form th:action="@{/user/laundryInfo}" method="post">
					<div class="modal-header">
						<h5 class="modal-title" id="exampleModalLabel">매장정보</h5>
						<button type="button" class="close" data-dismiss="modal"
							aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
					</div>
					<div class="modal-body" style="padding: 30px;">
						<h5>매장 정보를 확인하시겠습니까?</h5>
						<input type="hidden" name="searchKey" value="laundryName" /> <input
							type="hidden" name="searchValue" id="ldryNameInput" value=" " />
						<p>세세한 매장 정보들을 한눈에 볼 수 있습니다!</p>
					</div>
					<div class="modal-footer" style="padding: 0;">
						<button type="button" class="btn btn-secondary"
							data-dismiss="modal"
							style="margin: 0; border: 0; border-radius: 0; padding: 0; float: left; width: 50%; height: 50px; font-size: 20px;">닫기</button>
						<button type="submit" class="btn btn-primary"
							style="border: 0; border-radius: 0; margin: 0; padding: 0; float: right; width: 50%; height: 50px; font-size: 20px;">확인</button>
					</div>
				</form>
			</div>
		</div>
	</div>
	<!-- 매장정보 모달 끝 -->
	<!--자바스크립트-->

	<script type="text/javascript"
		src="//dapi.kakao.com/v2/maps/sdk.js?appkey=9783b710943997b9c55ffc0990321485&libraries=services"></script>
	<script>
		var markers = [];

		var mapContainer = document.getElementById('map'), // 지도를 표시할 div 
		mapOption = {
			center : new kakao.maps.LatLng(37.566826, 126.9786567), // 지도의 중심좌표
			level : 3
		// 지도의 확대 레벨
		};

		// 지도를 생성합니다    
		var map = new kakao.maps.Map(mapContainer, mapOption);

		// 장소 검색 객체를 생성합니다
		var ps = new kakao.maps.services.Places();

		// 검색 결과 목록이나 마커를 클릭했을 때 장소명을 표출할 인포윈도우를 생성합니다
		var infowindow = new kakao.maps.InfoWindow({
			zIndex : 1
		});

		// 키워드로 장소를 검색합니다
		searchPlaces();

		// 키워드 검색을 요청하는 함수입니다

		function searchPlaces() {

			var keywordaa = document.getElementById('keywordaa').value; //크린토피아
			var keywordbb = document.getElementById('keywordbb').value; //효자동
			var keywordcc = document.getElementById('keywordcc').value; //효자동

			if (document.getElementById('muinMapCheck').checked == true) {
				var keyword = keywordaa
						+ document.getElementById('keyword').value + keywordbb; //크린토피아 + 검색어(전주) + 효자동
			} else if (document.getElementById('ilbanMapCheck').checked == true) {
				var keyword = document.getElementById('keyword').value
						+ keywordcc; // 검색어(전주) + 드라이크리닝
			} else {
				var keyword = document.getElementById('keyword').value
			}

			// 장소검색 객체를 통해 키워드로 장소검색을 요청합니다
			ps.keywordSearch(keyword, placesSearchCB);
		}

		// 장소검색이 완료됐을 때 호출되는 콜백함수 입니다
		function placesSearchCB(data, status, pagination) {
			if (status === kakao.maps.services.Status.OK) {

				// 정상적으로 검색이 완료됐으면
				// 검색 목록과 마커를 표출합니다
				displayPlaces(data);

				// 페이지 번호를 표출합니다
				displayPagination(pagination);

			} else if (status === kakao.maps.services.Status.ZERO_RESULT) {

				alert('검색 결과가 존재하지 않습니다.');
				return;

			} else if (status === kakao.maps.services.Status.ERROR) {

				alert('검색 결과 중 오류가 발생했습니다.');
				return;

			}
		}

		// 검색 결과 목록과 마커를 표출하는 함수입니다
		function displayPlaces(places) {

			var listEl = document.getElementById('placesList'), menuEl = document
					.getElementById('menu_wrap'), fragment = document
					.createDocumentFragment(), bounds = new kakao.maps.LatLngBounds(), listStr = '';

			// 검색 결과 목록에 추가된 항목들을 제거합니다
			removeAllChildNods(listEl);

			// 지도에 표시되고 있는 마커를 제거합니다
			removeMarker();

			for (var i = 0; i < places.length; i++) {

				// 마커를 생성하고 지도에 표시합니다
				var placePosition = new kakao.maps.LatLng(places[i].y,
						places[i].x), marker = addMarker(placePosition, i), itemEl = getListItem(
						i, places[i]); // 검색 결과 항목 Element를 생성합니다

				// 검색된 장소 위치를 기준으로 지도 범위를 재설정하기위해
				// LatLngBounds 객체에 좌표를 추가합니다
				bounds.extend(placePosition);

				// 마커와 검색결과 항목에 mouseover 했을때
				// 해당 장소에 인포윈도우에 장소명을 표시합니다
				// mouseout 했을 때는 인포윈도우를 닫습니다
				(function(marker, title) {
					kakao.maps.event.addListener(marker, 'mouseover',
							function() {
								displayInfowindow(marker, title);
							});

					kakao.maps.event.addListener(marker, 'mouseout',
							function() {
								infowindow.close();
							});

					itemEl.onmouseover = function() {
						displayInfowindow(marker, title);
					};

					itemEl.onmouseout = function() {
						infowindow.close();
					};
				})(marker, places[i].place_name);

				fragment.appendChild(itemEl);
			}

			// 검색결과 항목들을 검색결과 목록 Element에 추가합니다
			listEl.appendChild(fragment);
			menuEl.scrollTop = 0;

			// 검색된 장소 위치를 기준으로 지도 범위를 재설정합니다
			map.setBounds(bounds);
		}

		// 검색결과 항목을 Element로 반환하는 함수입니다
		function getListItem(index, places) {

			var el = document.createElement('li'), itemStr = '<span class="markerbg marker_'
					+ (index + 1)
					+ '"></span>'
					+ '<div class="info">'
					+ '   <h5>' + places.place_name + '</h5>';

			if (places.road_address_name) {
				itemStr += '    <span>' + places.road_address_name + '</span>'
						+ '   <span class="jibun gray">' + places.address_name
						+ '</span>';
			} else {
				itemStr += '    <span>' + places.address_name + '</span>';
			}

			itemStr += '  <span class="tel">'
					+ places.phone
					+ '</span>'
					+ '</div>'
					+ '<button type="button" class="map-yayak-btn bookBtn" data-toggle="modal" data-target="#exampleModal" data-id="`${ldryName}`">'
					+ '매장정보' + '</button>';
			el.innerHTML = itemStr;
			el.className = 'item';

			return el;
		}

		// 마커를 생성하고 지도 위에 마커를 표시하는 함수입니다
		function addMarker(position, idx, title) {
			var imageSrc = 'https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/marker_number_blue.png', // 마커 이미지 url, 스프라이트 이미지를 씁니다
			imageSize = new kakao.maps.Size(36, 37), // 마커 이미지의 크기
			imgOptions = {
				spriteSize : new kakao.maps.Size(36, 691), // 스프라이트 이미지의 크기
				spriteOrigin : new kakao.maps.Point(0, (idx * 46) + 10), // 스프라이트 이미지 중 사용할 영역의 좌상단 좌표
				offset : new kakao.maps.Point(13, 37)
			// 마커 좌표에 일치시킬 이미지 내에서의 좌표
			}, markerImage = new kakao.maps.MarkerImage(imageSrc, imageSize,
					imgOptions), marker = new kakao.maps.Marker({
				position : position, // 마커의 위치
				image : markerImage
			});

			marker.setMap(map); // 지도 위에 마커를 표출합니다
			markers.push(marker); // 배열에 생성된 마커를 추가합니다

			return marker;
		}

		// 지도 위에 표시되고 있는 마커를 모두 제거합니다
		function removeMarker() {
			for (var i = 0; i < markers.length; i++) {
				markers[i].setMap(null);
			}
			markers = [];
		}

		// 검색결과 목록 하단에 페이지번호를 표시는 함수입니다
		function displayPagination(pagination) {
			var paginationEl = document.getElementById('pagination'), fragment = document
					.createDocumentFragment(), i;

			// 기존에 추가된 페이지번호를 삭제합니다
			while (paginationEl.hasChildNodes()) {
				paginationEl.removeChild(paginationEl.lastChild);
			}

			for (i = 1; i <= pagination.last; i++) {
				var el = document.createElement('a');
				el.href = "#";
				el.innerHTML = i;

				if (i === pagination.current) {
					el.className = 'on';
				} else {
					el.onclick = (function(i) {
						return function() {
							pagination.gotoPage(i);
						}
					})(i);
				}

				fragment.appendChild(el);
			}
			paginationEl.appendChild(fragment);
		}

		// 검색결과 목록 또는 마커를 클릭했을 때 호출되는 함수입니다
		// 인포윈도우에 장소명을 표시합니다
		function displayInfowindow(marker, title) {
			var content = '<div style="padding:5px;z-index:1;">' + title
					+ '</div>';

			infowindow.setContent(content);
			infowindow.open(map, marker);
		}

		// 검색결과 목록의 자식 Element를 제거하는 함수입니다
		function removeAllChildNods(el) {
			while (el.hasChildNodes()) {
				el.removeChild(el.lastChild);
			}
		}
	</script>




</th:block>
<th:block layout:fragment="customJsScript">
	<script>
		$(function() {
			$(document).on('click', '.bookBtn', function() {
				var storeInfoObj = $(this).parent().find('div').children();
				var ldryName = $(storeInfoObj).eq(0).text();
				var ldryAddr = $(storeInfoObj).eq(1).text();
				var ldryNum = $(storeInfoObj).eq(3).text();
				$("#ldryName").val(ldryName);
				$("#ldryAddr").val(ldryAddr);
				$("#ldryNum").val(ldryNum);
				$("#ldryNameInput").val(ldryName);

				console.log($(this).parent().find('div').children());

				console.log($(storeInfoObj).eq(0).text());
				console.log($(storeInfoObj).eq(1).text());
				console.log($(storeInfoObj).eq(2).text());
				console.log($(storeInfoObj).eq(3).text());

			});
		});

		/*close 상태 세탁소 폐업으로 글자 변경 + 클릭 안되게 하는 기능*/
		var laundryBox = document.querySelectorAll('.laundry-box');
		var laundryState = document.querySelectorAll('.laundry-state');
		var yeyakBtn = document.querySelectorAll('.yeyak-btn');

		for (var i = 0; i < laundryState.length; i++) {
			var lState = laundryState[i].innerText;
			if (lState == 'close') {
				yeyakBtn[i].innerText = '폐업';
				yeyakBtn[i].removeAttribute('data-target');
				yeyakBtn[i].addEventListener('click', function() {
					alert('이미 폐업한 곳 입니다.');
				});
			}
		}

		/*추가하기 클릭시 세탁기능, 추가*/
		var appendBtn = document.querySelectorAll('.append-btn');
		var removeBtn = document.querySelectorAll('.remove-btn');

		for (var i = 0; i < appendBtn.length; i++) {
			appendBtn[i]
					.addEventListener('click',function(e) {
				var box = e.target.parentElement.parentElement.parentElement
						.querySelector('.boxbox')
				var strGp = box.querySelector('.igp').value;
				var strSp = box.querySelector('.isp').value;
				
				/* 세탁물, 세탁기능 가격 */
				var sumGp =parseInt( $(".igp option:selected").attr('data-goodsPrice') );
				var sumSp =parseInt( $(".isp option:selected").attr('data-skillPrice') );
				var sumPrice = sumGp+sumSp;
				var sumaa=0;
				var sumFinal = document.querySelectorAll('.sumFinal');
				
				e.target.parentElement.parentElement
						.querySelector('.strBox').innerHTML 
					   += '<div class="pPlusBtn">'
						+ '<p>'	
						+ '- '
						+ strGp + '</p>'
						+ '<p>'	
						+ ' > '
						+ strSp + '</p>'
						+ ' : '
						+ '<p class="sumFinal">'
						+ sumPrice +'</p>'
						+ '원'
						+ '<button type="button" class="btn btn-info remove-btn">' 
						+ '제거' 
						+ '</button>'
						+ '</div>';
				
			});
		}
				

		/*제거하기 클릭시 세탁기능, 세탁물 선택창 제거*/
		$(document).on('click','.remove-btn',function(){
			$(this).parent().remove();
		});
		
		/*수거배송 신청예약 폼 내일날짜로 셋팅*/
		var currentDates = document.querySelectorAll('.currentDate');
		var currentDateTimes = document.querySelectorAll('.currentDateTime');

		var tomorrowDate = new Date

		tomorrowDate.setHours(tomorrowDate.getHours() + 9)
		tomorrowDate.setDate(tomorrowDate.getDate() + 1)

		for (var i = 0; i < currentDates.length; i++) {
			currentDates[i].value = tomorrowDate.toISOString().substring(0, 10);
			currentDateTimes[i].value = tomorrowDate.toISOString()
					.slice(11, 16);
		}
	</script>
</th:block>


</html>