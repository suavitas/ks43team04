<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  layout:decorate="~{layouts/userDefault}">
	
	<th:block layout:fragment="customCss">
		<link rel="stylesheet" th:href="@{https://cdn.datatables.net/1.12.1/css/jquery.dataTables.min.css}">
	</th:block>  
	
	<th:block layout:fragment="customJsPlugin">
		<script th:src="@{https://cdn.datatables.net/1.12.1/js/jquery.dataTables.min.js}"></script>
	</th:block>
	
	 <th:block layout:fragment="customJsScript">
		<script>
			$(function(){
				$('.tbNoticeList').DataTable({
					stateSave: true,
			    	destroy : true,
			    	ordering: false,
			    	order: [ [ 1, "asc" ] ]
				});
			});
		</script>
		
		<style>
			td a{
				color: #051922;
			}
			.cart-section {
				background-color: #f5f6fa; 
				padding: 60px 0 100px; 
				margin: 0; 
				border-top: #e5e5e5 1px solid;
			}
			table.dataTable thead th {
				text-align: center;
			}
			table.dataTable .noticeTitle {
				text-align: left; 
				padding-left: 20px;
			}
		</style>
	</th:block> 

	  
	<!-- 사용자정의 contents -->
	<th:block layout:fragment="customContents">
	
	
		<!-- 게시판 타이틀 -->
		<div id="container">
			<div id="top-loca">
				<div class="boardPath">
					<a th:href="@{/}">HOME</a>
					 > 
					<a th:href="@{/user/board/noticeList}">공지사항</a>
				</div>	
				<h2>공지사항</h2>			
			</div>
		</div>	
			
		<!-- 게시판 탭  -->			
		<div class="list-group list-group-horizontal col-sm-6" style="margin:0 auto; text-align: center;">
	  		<a th:href="@{/user/board/noticeList}" class="list-group-item list-group-item-action active" style="background-color: #F28123; border-color: #F28123;" aria-current="true">
	  		공지사항
	  		</a>
			<a th:href="@{/user/board/eventList}" class="list-group-item list-group-item-action">이벤트</a>
			<a th:href="@{/user/board/faqList}" class="list-group-item list-group-item-action">FAQ</a>
			<a th:href="@{/user/board/qnaList}" class="list-group-item list-group-item-action">문의사항</a>
		</div>
	
	
		<!-- 공지사항 테이블 -->
		<div class="cart-section mt-150 mb-150">
			<div class="container">
				<div class="row" style="float: none;">
					<div class="col-lg-8 col-lg-12" style="float: none; margin:0 auto;">				
						
							<!-- 공지사항 목록 조회 -->
							<div class="cart-table-wrap">
								<table class="cart-table tbNoticeList">
									<thead class="cart-table-head">
										<tr class="table-head-row">
											<th>번호</th>
											<th style="width: 50%">제목</th>
											<th>첨부</th>
											<th>작성자</th>
											<th>작성일</th>
											<th>조회</th>
										</tr>
									</thead>
									<tbody>
										<tr class="table-body-row" th:if="${not #lists.isEmpty(getNoticeList)}" th:each="l, status : ${getNoticeList}" >													
											<td th:text="${#numbers.formatInteger((rowCount - status.index) - ((currentPage - 1)*7),0)}"></td>
											<!-- <td th:text="${l.boardIdx}"></td> -->
											<td class="noticeTitle">
												<a th:href="@{/user/board/noticeDetail(boardMenuCode=${l.boardMenuCode}, boardIdx=${l.boardIdx})}" th:text="${l.boardTitle}"></a>
											</td>
											<td>
												<th:block th:if="${l.boardAddFile=='1'}">
														<i class="bi bi-paperclip"></i>
												</th:block>
												<th:block th:unless="${l.boardAddFile=='1'}">
												</th:block>
											</td>
											<td>
												<th:block th:if="${l.memberId=='id001'}">
													<span>관리자</span>
												</th:block>
											</td>
											<td th:text="${l.registTime}"></td>
											<td th:text="${l.boardReadCount}"></td>
										</tr>
										<tr th:unless="${not #lists.isEmpty(getNoticeList)}">
		   									<td colspan="6">조회된 내용이 없습니다.</td>
		   								</tr>
									</tbody>
								</table>
							</div>
						</div>
					</div>
				</div>
			

			
		
	</div>
		
</th:block>
</html>