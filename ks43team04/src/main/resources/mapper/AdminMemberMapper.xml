<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="ks43team04.mapper.AdminMemberMapper">

	<resultMap type="Member" 					id="memberResultMap">
		<id column="m_id" 						property="memberId"/>
		<result column="level_code" 			property="levelCode"/>
		<result column="m_pw" 					property="memberPw"/>
		<result column="m_pw_QnA_code" 			property="memberPwQnACode"/>
		<result column="m_name" 				property="memberName"/>
		<result column="m_birth" 				property="memberBirth"/>
		<result column="m_post_num" 			property="memberPostNum"/>
		<result column="m_addr" 				property="memberAddr"/>
		<result column="m_detail_addr" 			property="memberDetailAddr"/>
		<result column="m_phone" 				property="memberPhone"/>
		<result column="m_gender" 				property="memberGender"/>
		<result column="m_out_code" 			property="memberOutCode"/>
		<result column="m_email" 				property="memberEmail"/>
		<result column="m_reg_date" 			property="memberRegDate"/>
		<result column="admin_level_code" 		property="adminLevelCode"/>
		<result column="regist_time" 			property="registTime"/>
	</resultMap>
	
		<select id="getAdminMemberList" resultMap="memberResultMap">
			SELECT 
				m_id, 
				level_code, 
				m_pw, 
				m_pw_QnA_code, 
				m_name, 
				m_birth,
				m_post_num, 
				m_addr, 
				m_detail_addr, 
				m_phone, 
				m_gender, 
				m_out_code, 
				m_email, 
				m_reg_date, 
				admin_level_code, 
				regist_time
			FROM 
				tb_member
		</select>
		
		<insert id="addMemberAdmin" parameterType="Member">
 		/* 관리자 회원가입 */
 		INSERT INTO tb_member
			(m_id
			,m_pw
			,m_name
			,m_birth
			,m_post_num
			,m_addr
			,m_detail_addr
			,m_phone
			,m_gender
			,m_email
			,m_reg_date
		)VALUES( 
			#{memberId}
			,#{memberPw}
			,#{memberName}
			,#{memberBirth}
			,#{memberPostNum}
			,#{memberAddr}
			,#{memberDetailAddr}
			,#{memberPhone}
			,#{memberGender}
			,#{memberEmail}
			,CURDATE() 
		);	
 	</insert>
	
	
</mapper>